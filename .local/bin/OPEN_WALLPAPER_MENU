#!/bin/sh

WALLPAPER_DIR="$HOME/Wallpapers"

if [ ! -d "$WALLPAPER_DIR" ]; then
  echo "$WALLPAPER_DIR not found." >&2
fi

FILE_LIST=$(find "$WALLPAPER_DIR" -type f -exec basename {} \;)

SELECTED=$(printf "%s\n" "$FILE_LIST" | rofi -dmenu -p "Choose the Wallpaper")

if [ -n "$SELECTED" ]; then
  FULL_PATH=$(find "$WALLPAPER_DIR" -type f -name "$SELECTED" | head -n 1)
  $HOME/.local/bin/WALLPAPER_SET $FULL_PATH
fi
